(()=>{"use strict";const e=e=>{const t=JSON.stringify(e);localStorage.setItem("todos",t)},t=e=>e.map(((e,t)=>({...e,index:t}))),n=(e,t,n)=>n.map((n=>n.index.toString()===e?{...n,completed:t}:n)),i=(e,t)=>t.find((t=>t===e.toString())),d=(e,t)=>i(e,t)?t.filter((t=>t!==e.toString())):[...t,e],c=e=>document.querySelector(e),s=e=>document.querySelectorAll(e),o=c("input.input"),r=c("#add-form"),l=c("img.icon"),a=c("button#clear-completed"),p=(t,n)=>{let d="";const s=c("p#clear-uncompleted");var o;t.length?t.forEach((e=>{e.completed?d+=` <li class="list-item">\n   <div class="description-container">\n     <p class="success" id='${e.index}'>&#10003; </p>\n   <p class="description-text"><s>  ${e.description} </s></p>\n   </div>\n   <div class="three-dots" id='${e.index}'>\n   ðŸ–Š\n   </div>\n</li>\n`:d+=`<li class="list-item">\n        <div class="description-container">\n            <input type="checkbox" class='checkbox' id="${e.index}" value="${e.index}">\n            <p class="description-text">${e.description}</p>\n        </div>\n        <div class="three-dots" id='${e.index}'>\n        ðŸ–Š\n        </div>\n     </li>\n   `,d+=`<li>\n      <form id='${e.index}' class='${i(e.index,n)?"edit-form":"edit-form none"}'>\n      <input type="text" required class="input edit-input" id='${e.index}' /> \n      </form>\n      </li>`})):d='<li class="center danger"> No todos yet!</li>',e(t),s.innerText=t.filter((e=>!e.completed)).length,o=d,c("ul.todo-list").innerHTML=o};let u=(()=>{const e=localStorage.getItem("todos");return e?JSON.parse(e):[]})(),m=[];const f=()=>{const t=s("input.checkbox"),i=s("div.three-dots"),c=s("p.success"),o=s("form.edit-form"),r=s("input.edit-input");c.forEach((e=>{e.addEventListener("click",(()=>{u=n(e.id,!1,u),p(u,m),f()}))})),t.forEach((e=>{e.addEventListener("change",(()=>{u=n(e.id,e.checked,u),p(u,m),f()}))})),i.forEach((e=>{e.addEventListener("click",(()=>{m=d(e.id,m),p(u,m),f()}))})),r.forEach((e=>{const t=u.find((t=>t.index.toString()===e.id));e.value=t?t.description:""})),o.forEach((t=>{t.addEventListener("submit",(n=>{n.preventDefault(),r.forEach((n=>{if(n.id===t.id){const{value:t}=n,i=((t,n,i)=>{const d={...i.find((e=>e.index.toString()===t)),description:n},c=i.map((e=>e.index.toString()===t?d:e));return e(c),c})(n.id,t,u);u=i,m=d(n.id,m),p(u,m),f()}}))}))}))};p(u,m),f(),a.addEventListener("click",(()=>{const n=(n=>{const i=t(n.filter((e=>!e.completed)));return e(i),i})(u);p(n,m),f(),u=n})),l.addEventListener("click",(()=>{const n=(n=>{const i=t(n.filter((e=>e.completed)));return e(i),i})(u);p(n,m),f(),u=n})),r.addEventListener("submit",(e=>{e.preventDefault();const n=((e,n)=>{const i=[...n,{index:1,description:e,completed:!1}];return t(i)})(o.value,u);u=n,p(n,m),f(),o.value=""}))})();