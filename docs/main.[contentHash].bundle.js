(()=>{"use strict";const t=t=>{const e=JSON.stringify(t);localStorage.setItem("todos",e)},e=t=>t.map(((t,e)=>({...t,index:e}))),n=(t,e,n)=>n.map((n=>n.index.toString()===t?{...n,completed:e}:n)),i=(t,e)=>e.find((e=>e===t.toString())),d=(t,e)=>i(t,e)?e.filter((e=>e!==t.toString())):[...e,t],c=t=>document.querySelector(t),s=t=>document.querySelectorAll(t),o=c("input.input"),r=c("#add-form"),l=c("img.icon"),a=c("button#clear-completed"),p=(e,n)=>{let d="";const s=c("p#clear-uncompleted");var o;e.length?e.forEach((t=>{t.completed?d+=` <li class="list-item">\n   <div class="description-container">\n     <p class="success" id='${t.index}'>&#10003; </p>\n   <p class="description-text"><s>  ${t.description} </s></p>\n   </div>\n   <div class="three-dots" id='${t.index}'>\n   ðŸ–Š\n   </div>\n</li>\n`:d+=`<li class="list-item">\n        <div class="description-container">\n            <input type="checkbox" class='checkbox' id="${t.index}" value="${t.index}">\n            <p class="description-text">${t.description}</p>\n        </div>\n        <div class="three-dots" id='${t.index}'>\n        ðŸ–Š\n        </div>\n     </li>\n   `,d+=`<li class="edit-item">\n      <form id='${t.index}' class='${i(t.index,n)?"edit-form":"edit-form none"}'>\n      <input type="text" required class="input edit-input" id='${t.index}' /> \n       <button class="trash" type='button' id='${t.index}'>\n       &#x1F5D1;\n       </button>\n      </form>\n      </li>`})):d='<li class="center danger"> No todos yet!</li>',t(e),s.innerText=e.filter((t=>!t.completed)).length,o=d,c("ul.todo-list").innerHTML=o};let u=(()=>{const t=localStorage.getItem("todos");return t?JSON.parse(t):[]})(),m=[];const f=()=>{const i=s("input.checkbox"),c=s("div.three-dots"),o=s("p.success"),r=s("form.edit-form"),l=s("input.edit-input"),a=s("button.trash");o.forEach((t=>{t.addEventListener("click",(()=>{u=n(t.id,!1,u),p(u,m),f()}))})),i.forEach((t=>{t.addEventListener("change",(()=>{u=n(t.id,t.checked,u),p(u,m),f()}))})),c.forEach((t=>{t.addEventListener("click",(()=>{m=d(t.id,m),p(u,m),f()}))})),l.forEach((t=>{const e=u.find((e=>e.index.toString()===t.id));t.value=e?e.description:""})),r.forEach((e=>{e.addEventListener("submit",(n=>{n.preventDefault(),l.forEach((n=>{if(n.id===e.id){const{value:e}=n,i=((e,n,i)=>{const d={...i.find((t=>t.index.toString()===e)),description:n},c=i.map((t=>t.index.toString()===e?d:t));return t(c),c})(n.id,e,u);u=i,m=d(n.id,m),p(u,m),f()}}))}))})),a.forEach((t=>{t.addEventListener("click",(()=>{var n;n=t.id,u=e(u.filter((t=>t.index.toString()!==n))),m=d(t.id,m),p(u,m),f()}))}))};p(u,m),f(),a.addEventListener("click",(()=>{const n=(n=>{const i=e(n.filter((t=>!t.completed)));return t(i),i})(u);p(n,m),f(),u=n})),l.addEventListener("click",(()=>{const n=(n=>{const i=e(n.filter((t=>t.completed)));return t(i),i})(u);p(n,m),f(),u=n})),r.addEventListener("submit",(t=>{t.preventDefault();const n=((t,n)=>{const i=[...n,{index:1,description:t,completed:!1}];return e(i)})(o.value,u);u=n,p(n,m),f(),o.value=""}))})();